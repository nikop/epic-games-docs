
<section class="page">
	<div style="left:0">
		<nav>
			<ol>
				<li>
					<a href="/docs">Epic Developer Resources</a>
				</li>
				<li aria-hidden="true"></li>
				<li>
					<button tabindex="0" type="button" aria-haspopup="true"></button>
				</li>
				<li aria-hidden="true"></li>
				<li>
					<span aria-label="Game Prerequisite Installers" data-mui-internal-clone-element="true">Game Prerequisite Installers</span>
				</li>
			</ol>
		</nav>
		<div></div>
	</div>
	<section>
		<div>
			<div>
				<nav>
					<ol>
						<li>
							<a href="/docs">Epic Developer Resources</a>
						</li>
						<li aria-hidden="true"></li>
						<li>
							<button tabindex="0" type="button" aria-haspopup="true"></button>
						</li>
						<li aria-hidden="true"></li>
						<li>
							<span aria-label="Game Prerequisite Installers" data-mui-internal-clone-element="true">Game Prerequisite Installers</span>
						</li>
					</ol>
				</nav>
			</div>
			<div>
				<div>
					<div id="search_container">
						<form name="bodySearch" method="get" action="https://dev.epicgames.com/en-US/bing-search">
							<input type="hidden" name="filter" value="Documentation">
							<input type="text" name="keyword" placeholder="Search Documentation..." autocomplete="off">
							<button type="submit" aria-label="Search"></button>
						</form>
					</div>
				</div>
			</div>
		</div>
		<div>
			<h1>Game Prerequisite Installers</h1>
			<h2>Understand and implement prerequisite installer options supported by the Epic Games Store</h2>
			<div>
				<div>3 mins to read</div>
			</div>
		</div>
	</section>
	<section>
		<section>
			<p>Epic Games offers three prerequisite installer options:</p>
			<ul>
				<li>
					<p>
						<a href="/docs/epic-games-store/services/game-prereqs-installer#app-local-deployment">App-local deployment</a>
					</p>
				</li>
				<li>
					<p>
						<a href="/docs/epic-games-store/services/game-prereqs-installer#epic-games-launcher-via-the-buildpatchtool-command-line">Epic Games Launcher via the BuildPatchTool command line</a>
					</p>
				</li>
				<li>
					<p>
						<a href="/docs/epic-games-store/services/game-prereqs-installer#batch-script">Batch script</a>
					</p>
				</li>
			</ul>
			<div>
				<h2 id="before-you-start">Before You Start</h2>
				<button tabindex="0" type="button" aria-label="Copy link to this section" data-mui-internal-clone-element="true"></button>
			</div>
			<p>When you build an application that uses library DLLs supplied by Visual Studio, users of your application must also have those DLLs on their computers for the application to run. Because most users probably do not have Visual Studio installed, you must provide these DLLs for them. Visual Studio makes these DLLs available as redistributable files that you can include in your application installer.</p>
			<div>
				<h2 id="app-local-deployment">App-Local Deployment</h2>
				<button tabindex="0" type="button" aria-label="Copy link to this section" data-mui-internal-clone-element="true"></button>
			</div>
			<p>When packaging your game for upload via the BuildPatchTool, you can include your prerequisites installation by copying the necessary dynamic-link libraries (DLLs) into the same directory as your game executable.</p>
			<p>This method is not the only way to include your prerequisites installation, but it is Epic Games’ preferred practice. The benefits of using app-local 
				<!-- -->deployment
				<!-- --> are that it does not require elevated user access nor alter the system for all users.</p>
			<p>However, this method may not work for you if you need a more complicated installation. It is also possible that not all redistributable DLLs can be distributed this way. Alternative methods include the
				<a href="/docs/epic-games-store/services/game-prereqs-installer#epic-games-launcher-via-the-buildpatchtool-command-line">
					<em>Epic Games Launcher via the BuildPatchTool Command Line</em>
				</a>.</p>
			<div>
				<h4 id="how-to-do-it">How to do it</h4>
				<button tabindex="0" type="button" aria-label="Copy link to this section" data-mui-internal-clone-element="true"></button>
			</div>
			<p>Copy the necessary Visual Studio DLLs from their install directory to your application’s directory. Use the following articles from Microsoft to identify the DLLs you must bundle with your application:
				<a href="https://docs.microsoft.com/en-us/cpp/windows/determining-which-dlls-to-redistribute?view=msvc-160&amp;viewFallbackFrom=vs-2019">Determining Which DLLs to Redistribute</a>
				and
				<a href="https://docs.microsoft.com/en-us/cpp/windows/walkthrough-deploying-a-visual-cpp-application-to-an-application-local-folder?view=msvc-160&amp;viewFallbackFrom=vs-2019">Walkthrough: Deploying a Visual C++ Application to an Application-local Folder</a>.</p>
			<div>
				<h2 id="epic-games-launcher-via-the-buildpatchtool-command-line">Epic Games Launcher via the BuildPatchTool Command Line</h2>
				<button tabindex="0" type="button" aria-label="Copy link to this section" data-mui-internal-clone-element="true"></button>
			</div>
			<p>If copying the dependent DLLs is not a viable solution, then you can have the Epic Games Launcher run an installer upon first launch of the game. The installer is skipped if the associated IDs are already installed on the local machine, so users only see the installation process the first time or when including new dependencies.</p>
			<p>Configuring a prerequisite installation with the Epic Games Launcher allows you to run a full installer. However, there are significant drawbacks. Users may decline, not see, or misunderstand the elevation prompt if offered, and any non-zero return code from the prerequisite installer can cause issues. Also, installing Visual Studio DLLs by this method can cause them to fail and result in your application not running. For more information, see
				<a href="https://docs.microsoft.com/en-us/cpp/windows/choosing-a-deployment-method?view=msvc-160">Choosing a Deployment Method</a>
				from Microsoft’s website.</p>
			<div>
				<h4 id="how-to-do-it-1">How to do it</h4>
				<button tabindex="0" type="button" aria-label="Copy link to this section" data-mui-internal-clone-element="true"></button>
			</div>
			<p>To configure a prerequisite installer with the Epic Games Launcher, you use BuildPatchTool command line arguments. The following batch file snippet example shows how to run the UE3Redist installer as your first step.</p>
			<div>
				<section>
					<pre>
						<div>
							<div style="color:#fff">
								<span>SET
								</span>
								<span style="color:#89bdff">UE3_PREREQ_IDS</span>
								<span style="color:#fff">=</span>
								<span style="color:#00bda0">"UE3Redist,NotSharedReq,SharedReq2,SharedReq3"</span>
								<span></span>
							</div>
							<div style="color:#fff">
								<span>SET
								</span>
								<span style="color:#89bdff">UE3_PREREQ_NAME</span>
								<span style="color:#fff">=</span>
								<span style="color:#00bda0">"UE3 Redistributables"</span>
								<span></span>
							</div>
							<div style="color:#fff">
								<span>SET
								</span>
								<span style="color:#89bdff">UE3_PREREQ_PATH</span>
								<span style="color:#fff">=</span>
								<span style="color:#00bda0">"Binaries\Windows\UE3Redist.exe"</span>
								<span></span>
							</div>
							<div style="color:#fff">
								<span>SET
								</span>
								<span style="color:#89bdff">UE3_PREREQ_ARGS</span>
								<span style="color:#fff">=</span>
								<span style="color:#00bda0">""</span>
								<span></span>
							</div>
							<div style="color:#fff">
								<span style="display:inline-block">
								</span>
							</div>
							<div style="color:#fff">
								<span>BuildPatchTool … -mode</span>
								<span style="color:#fff">=</span>
								<span>PatchGeneration -PrereqIds</span>
								<span style="color:#fff">=</span>
								<span>%UE3_PREREQ_IDS%</span>
							</div>
							<div style="color:#fff">
								<span>
									-PrereqName</span>
								<span style="color:#fff">=</span>
								<span>%UE3_PREREQ_NAME% -PrereqPath</span>
								<span style="color:#fff">=</span>
								<span>%UE3_PREREQ_PATH%</span>
							</div>
							<div style="color:#fff">
								<span>
									-PrereqArgs</span>
								<span style="color:#fff">=</span>
								<span>%UE3_PREREQ_ARGS%</span>
							</div>
						</div>
					</pre>
					<button tabindex="0" type="button" aria-label="Copy" data-mui-internal-clone-element="true"></button>
				</section>
			</div>
			<p>
				<strong>This configuration assumes:</strong>
			</p>
			<ul>
				<li>
					<p>Your prerequisite installer lives in a Binaries\Windows subdirectory</p>
				</li>
				<li>
					<p>The prerequisites have a human readable name</p>
				</li>
				<li>
					<p>The prerequisite IDs determine whether the installer is launched or not</p>
				</li>
				<li>
					<p>Each ID is unique for each prerequisite within a comma-delimited list (no spaces) as a way to share prerequisites across multiple games</p>
				</li>
			</ul>
			<p>This method can also trigger another install if a subsequent update to your game adds new prerequisites. You would need to add a new unique ID to the list of prerequisites. The launcher would recognize the new ID as not installed causing it to launch your installer again. Once the installer completes successfully, the launcher marks those IDs as installed on the local machine and does not launch the installer again.</p>
			<div>
				<h2 id="batch-script">Batch Script</h2>
				<button tabindex="0" type="button" aria-label="Copy link to this section" data-mui-internal-clone-element="true"></button>
			</div>
			<p>If the preferred methods above do not work for your game, you can use a batch file to conditionally check for the prerequisites being installed before passing through to your game. This method is simple to develop and flexible. However, a DOS box flashes briefly when your game is run from the Epic Games Launcher. Also, with a slow installation (greater than two minutes), your exchange code could expire before it is passed onto the game causing you to relaunch the game.</p>
			<div>
				<h4 id="how-to-do-it-2">How to do it</h4>
				<button tabindex="0" type="button" aria-label="Copy link to this section" data-mui-internal-clone-element="true"></button>
			</div>
			<p>Create a batch file that you will use as your executable as specified in BuildPatchTool. This batch file needs to check for the prerequisites and then forward the command line arguments on to your game. The following batch file is a hypothetical UE3 title that requires the UE3Redist.exe installer to be run on the player’s machine. It is set up to be run from the Binaries directory and has the UE3Redist.exe installer in a Windows subdirectory.</p>
			<div>
				<section>
					<pre>
						<div>
							<div style="color:#fff">
								<span>reg query HKEY_CLASSES_ROOT</span>
								<span style="color:#fff">\</span>
								<span>Installer</span>
								<span style="color:#fff">\</span>
								<span>Products</span>
								<span style="color:#fff">\</span>
								<span>70140BF22CB7C94419A535B0925B0EEF</span>
							</div>
							<div style="color:#fff">
								<span style="display:inline-block">
								</span>
							</div>
							<div style="color:#fff">
								<span></span>
								<span style="color:#f08a92">if</span>
								<span>
									%ERRORLEVEL% EQU
								</span>
								<span style="color:#ffcb8f">0</span>
								<span>
									goto LAUNCH_UE3_GAME</span>
							</div>
							<div style="color:#fff">
								<span style="display:inline-block">
								</span>
							</div>
							<div style="color:#fff">
								<span>.</span>
								<span style="color:#fff">\</span>
								<span>Windows</span>
								<span style="color:#fff">\</span>
								<span>UE3Redist.exe</span>
							</div>
							<div style="color:#fff">
								<span style="display:inline-block">
								</span>
							</div>
							<div style="color:#fff">
								<span>:LAUNCH_UE3_GAME</span>
							</div>
							<div style="color:#fff">
								<span>UE3Game.com %*</span>
							</div>
						</div>
					</pre>
					<button tabindex="0" type="button" aria-label="Copy" data-mui-internal-clone-element="true"></button>
				</section>
			</div>
			<p>
				<strong>The BuildPatchTool setup for this is:</strong>
			</p>
			<div>
				<section>
					<pre>
						<div>
							<div style="color:#fff">
								<span>BuildPatchTool … -mode</span>
								<span style="color:#fff">=</span>
								<span>PatchGeneration -FeatureLevel</span>
								<span style="color:#fff">=</span>
								<span>Latest -AppLaunch</span>
								<span style="color:#fff">=</span>
								<span style="color:#00bda0">"Binaries\UE3Game.bat"</span>
								<span>
									…</span>
							</div>
						</div>
					</pre>
					<button tabindex="0" type="button" aria-label="Copy" data-mui-internal-clone-element="true"></button>
				</section>
			</div>
			<div id="toolbox_panel">
				<div>
					<button tabindex="0" type="button" id="share__button" aria-controls="share__menu" aria-haspopup="true" aria-label="" data-mui-internal-clone-element="true"></button>
				</div>
				<button tabindex="0" type="button" aria-label="Print" data-mui-internal-clone-element="true"></button>
			</div>
			<div id="tag_list">
				<a href="/docs/en-US/site-map?tag=Epic%20Games%20Store%20Only">Epic Games Store Only</a>
			</div>
		</section>
		<aside>
			<div>Contents</div>
			<div>
				<ul>
					<li>
						<a href="#before-you-start">Before You Start</a>
					</li>
					<li>
						<a href="#app-local-deployment">App-Local Deployment</a>
					</li>
					<li>
						<a href="#how-to-do-it">How to do it</a>
					</li>
					<li>
						<a href="#epic-games-launcher-via-the-buildpatchtool-command-line">Epic Games Launcher via the BuildPatchTool Command Line</a>
					</li>
					<li>
						<a href="#how-to-do-it-1">How to do it</a>
					</li>
					<li>
						<a href="#batch-script">Batch Script</a>
					</li>
					<li>
						<a href="#how-to-do-it-2">How to do it</a>
					</li>
				</ul>
			</div>
		</aside>
	</section>
	<section></section>
</section>