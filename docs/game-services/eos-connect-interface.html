<section class="page">
	<div style="left:0">
		<nav>
			<ol>
				<li>
					<a href="/docs">Epic Developer Resources</a>
				</li>
				<li aria-hidden="true"></li>
				<li></li>
				<li aria-hidden="true"></li>
				<li>
					<span aria-label="Connect Interface">Connect Interface</span>
				</li>
			</ol>
		</nav>
		<div></div>
	</div>
	<section>
		<div>
			<h1>Connect Interface</h1>
			<h2>The Connect Interface handles connections between users' accounts under different identity providers.</h2>
			<div>
				<div>18 mins to read</div>
			</div>
		</div>
	</section>
	<section>
		<section>
			<div>
				<h2 id="connect-interface">Connect Interface</h2>
			</div>
			<p>The
				<strong>Connect Interface</strong>
				enables an external identity provider to integrate with and use the
				<strong>Epic Online Services</strong>
				(EOS) ecosystem.</p>
			<p>The
				<strong>Connect Interface</strong>:</p>
			<ul>
				<li>Provides access to the
					<strong>Epic Online Services (EOS)</strong>
					game services.</li>
				<li>Generates a common unique user identifier within the cross-platform services.</li>
				<li>Links external identity providers' accounts to our services.</li>
			</ul>
			<p>A player can associate one or more external user accounts with a unique player ID called Product User ID (PUID). This Product User ID is a unique ID for each Product under the same Organization.</p>
			<p>For more information about supported identity providers and configuration, see
				<a href="/docs/dev-portal/identity-provider-management">Identity Provider Management</a>.</p>
			<div>
				<h3 id="managing-users">Managing users</h3>
			</div>
			<p>Users login using a set of external credentials. If the user already exists for this 
				<!-- -->product
				<!-- -->, an
				<strong>access token</strong>
				is granted that lasts for a set period of time (currently one hour). The game is notified prior to the token expiration and is required to refresh the existing token, given a valid external credential at that time.</p>
			<p>Epic Online Services interfaces cannot control the access permissions of the external provider. As such,
				<strong>Connect Interface</strong>
			</p>
			<p>
				<strong>DOES:</strong>
			</p>
			<ul>
				<li>Verify the user is still valid with the external account provider</li>
				<li>Extend the time the user is able to access our services</li>
			</ul>
			<p>
				<strong>DOES NOT:</strong>
			</p>
			<ul>
				<li>Implicitly refresh tokens</li>
				<li>Grant lengthy access</li>
			</ul>
			<p>The external 
				<!-- -->account
				<!-- --> provider is expected to have authoritative access to the application.</p>
			<div>
				<div>
					<div>
						<span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0">
							<img alt="Connect Interface Account Flow" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%">
							<noscript>
								<img alt="Connect Interface Account Flow" sizes="100vw" srcset="null/game-services/connect/connect-account-flow.png 640w, null/game-services/connect/connect-account-flow.png 750w, null/game-services/connect/connect-account-flow.png 828w, null/game-services/connect/connect-account-flow.png 1080w, null/game-services/connect/connect-account-flow.png 1200w, null/game-services/connect/connect-account-flow.png 1920w, null/game-services/connect/connect-account-flow.png 2048w, null/game-services/connect/connect-account-flow.png 3840w" src="null/game-services/connect/connect-account-flow.png" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy">
							</noscript>
						</span>
					</div>
				</div>
			</div>
			<p>Access to services available via this user identifier requires external account identification via the
				<code>EOS_ProductUserId</code>
				data structure. All interfaces clearly indicate this usage and type safety should be assured. It is separate from
				<code>EOS_EpicAccountId</code>
				that is associated with the authentication interface provided for Epic Account Services.</p>
			<div>
				<p>Epic Games accounts are not required for using the Connect Interface that can be used with any of the supported external account types.</p>
			</div>
			<div>
				<h4 id="authenticating-users">Authenticating Users</h4>
			</div>
			<p>To authenticate with EOS Connect, follow these steps:</p>
			<ol>
				<li>
					<p>Call
						<code>EOS_Connect_Login</code>
						with the
						<code>EOS_Connect_LoginOptions</code>
						containing external credentials from a supported platform. For instance, to authenticate with an Epic Games account, retrieve an ID token for the local Epic user from
						<code>EOS_Auth_CopyIdToken</code>
						and set the
						<code>EOS_EExternalCredentialType</code>
						to
						<code>EOS_ECT_EPIC_ID_TOKEN</code>.</p>
				</li>
				<li>
					<p>Pass the
						<code>EOS_HConnect</code>
						handle, your
						<code>EOS_Connect_LoginOptions</code>
						structure, and your callback information to
						<code>EOS_Connect_Login</code>.</p>
				</li>
			</ol>
			<p>After authenticating, these additional actions may occur:</p>
			<ul>
				<li>Provided that the
					<code>EOS_HPlatform</code>
					handle is ticking, the callback you provide executes when the operation finishes.</li>
				<li>After a successful result, the application may access additional interfaces that require authentication.</li>
				<li>If the user does not exist, the login API returns a
					<code>EOS_InvalidUser</code>
					result along with a
					<code>EOS_ContinuanceToken</code>. The token provides details about the login attempt and is required during the next steps in the login flow.</li>
			</ul>
			<div>
				<p>If your game supports cross-platform progression, when the player logs in the first time ask them if they have already previously played the game on another platform. If so, the player can authenticate using that platformâ€™s external account to connect with their existing game progression, and then link that current platform account to their existing EOS user (see
					<a href="/docs/en-US#linking-an-external-account">Linking an Account</a>). Otherwise, you can ask if they want a fresh start by creating a new EOS user (see
					<a href="/docs/en-US#creating-a-new-user">Creating a User</a>).</p>
			</div>
			<div>
				<h4 id="user-authentication-refresh-notification">User authentication refresh notification</h4>
			</div>
			<p>A callback function provided to
				<code>EOS_Connect_AddNotifyAuthExpiration</code>
				will run whenever an existing access token is about to expire.  This should give the application enough time to acquire another external access token and provide it to the SDK via the
				<code>EOS_Connect_Login</code>
				function each time.</p>
			<p>Use the
				<code>EOS_Connect_RemoveNotifyAuthExpiration</code>
				function to stop listening for these notifications.</p>
			<div>
				<h4 id="user-authentication-status-change-notification">User authentication status change notification</h4>
			</div>
			<p>To assure that your application knows whenever a user's authentication status has changed, the Connect Interface provides a callback for such notifications.</p>
			<p>The callback function you provide to
				<code>EOS_Connect_AddNotifyUserLoginStatusChanged</code>
				runs whenever a local user's authentication status changes. This only occurs if the expiration notification is ignored, the external provider credentials are unable to refresh the access token, or the access was revoked explicitly by the backend service for some administrative reason. This callback fires only when other calls in the EOS ecosystem detect that this auth token is invalid; it does not automatically fire otherwise.</p>
			<p>You must handle all the error messages in specific calls that may fail because of authentication. Recovery is often possible by calling
				<code>EOS_Connect_Login</code>
				then retrying the original call on success.</p>
			<p>Use the
				<code>EOS_Connect_RemoveNotifyUserLoginStatusChanged</code>
				function to stop listening for notifications.</p>
			<div>
				<h4 id="checking-current-user-authentication-status">Checking current user authentication status</h4>
			</div>
			<p>To check the player's current status on demand, use the
				<code>EOS_Connect_GetLoginStatus</code>
				function. This function determines authentication status based on the most recent communication with the online service, so the result is returned instantly and does not use a callback function.</p>
			<div>
				<h3 id="creating-a-new-user">Creating a new user</h3>
			</div>
			<p>Creating a user will generate a new Product User ID for the user given the external credentials used during login.  It is almost always necessary to prompt the user and see if there is an alternate way to login before creating a new user.  This will reduce confusion and user game progression merging issues in cross-platform situations.</p>
			<p>If the application intends to create a new product user ID for the user, then simply call
				<code>EOS_Connect_CreateUser</code>
				with the
				<code>EOS_Connect_CreateUserOptions</code>
				containing the
				<code>EOS_ContinuanceToken</code>
				from the previous call to
				<code>EOS_Connect_Login</code>.</p>
			<p>Pass the
				<code>EOS_HConnect</code>
				handle, your
				<code>EOS_Connect_CreateUserOptions</code>
				structure, and your callback information to the function. Provided that the
				<code>EOS_HPlatform</code>
				handle is ticking, the callback you provided will execute when the operation finishes.</p>
			<div>
				<h3 id="linking-an-external-account">Linking an external account</h3>
			</div>
			<p>If during the application login flow, it is determined that the user is able to login with a secondary set of external credentials, store the
				<code>EOS_ContinuanceToken</code>
				from the first login call, reattempt to login via
				<code>EOS_Connect_Login</code>, and once successfully logged in, immediately call
				<code>EOS_Connect_LinkAccount</code>.  This will associate the two external accounts to the one product user ID.  It is possible to link more than two accounts as the capabilities of our services grow.</p>
			<p>If the intent of the application is to link a new external account with an existing product user ID, then call
				<code>EOS_Connect_LinkAccount</code>
				with the
				<code>EOS_Connect_LinkAccountOptions</code>
				containing the
				<code>EOS_ContinuanceToken</code>
				from the previous call to
				<code>EOS_Connect_Login</code>
				and the product user ID for the user logged in with a successful call to
				<code>EOS_Connect_Login</code>.</p>
			<p>Pass the
				<code>EOS_HConnect</code>
				handle, your
				<code>EOS_Connect_LinkAccountOptions</code>
				structure, and your callback information to the function. Provided that the
				<code>EOS_HPlatform</code>
				handle is ticking, the callback you provided will execute when the operation finishes.</p>
			<p>You can search EOS Connect users by their external account IDs or using the product user ID through the Accounts dashboard in the Developer Portal. As the keychain of a player's linked external accounts is managed at the Organization level, the Accounts dashboard can be found next to the Organization management menu items. Through the Accounts dashboard, you will be able to find players and your customer support will be able to help to remove account linkings by player requests. You can also use this dashboard to remove your EOS Connect user or any linked accounts during SDK integration testing. Along with this, we will provide web REST APIs for developers to integrate EOS user management into their existing internal dashboards.</p>
			<div>
				<h3 id="unlinking-an-external-account">Unlinking an external account</h3>
			</div>
			<p>During the first time user login flow, it is possible for the user to end up in a state where they inadvertently created a new product user ID for the logged in account (that is typically the local platform account), instead of reusing existing game progression that they may have from playing on another platform or using another external account credentials. The user may not be aware of the crossplay capabilities of the game.</p>
			<p>In such a scenario, the user skips any early login dialogs and continues with their default platform account credentials (the logged in account) to create a new
				<code>EOS_ProductUserId</code>
				through the flow with
				<code>EOS_Connect_Login</code>
				and
				<code>EOS_Connect_CreateUser</code>
				APIs. As a consequence, their logged in account that is used with
				<code>EOS_Connect_Login</code>
				at game start is now tied with an unintended product user ID. To recover from this state, the user needs to be able to unlink the logged in account from the newly created keychain, so that they may enter the first time user login flow again.</p>
			<p>Once they have unlinked the logged in account, they may login using another set of external account credentials linked with another existing keychain. On success, they then proceed to link the default logged in account with that desired existing keychain using the flow described in the
				<code>Linking an External Account</code>
				section above.</p>
			<p>In another scenario, the user may simply want to disassociate the logged in account from its current keychain in order to separate game progressions between platforms or otherwise link it to another keychain.</p>
			<p>To unlink an external account from a keychain that owns the product user ID currently logged in, call
				<code>EOS_Connect_UnlinkAccount</code>
				with the
				<code>EOS_Connect_UnlinkAccountOptions</code>, specifying
				<code>LocalUserId</code>
				as the
				<code>EOS_ProductUserId</code>
				that was returned by a previous call to
				<code>EOS_Connect_Login</code>. When the operation completes successfully, the external account will no longer have associations to any keychains. This means that the next attempt to login with
				<code>EOS_Connect_Login</code>
				using credentials associated with the same external account will return an
				<code>EOS_InvalidUser</code>
				result with an
				<code>EOS_ContinuanceToken</code>.</p>
			<p>Similarly to the account linking creation operations, history of unlinking operations can be audited through the Accounts dashboard in the Developer Portal.</p>
			<div>
				<h4 id="external-account-unlinking-restrictions">External account unlinking restrictions</h4>
			</div>
			<p>In order to protect against account theft, unlinking accounts from a keychain is only possible for those accounts that the local user is currently logged in with. This prevents a malicious actor from gaining access to one of the linked accounts and using it to remove all other accounts linked with the keychain. It also prevents a malicious actor from replacing the unlinked account with their own corresponding account on the same platform, as the unlinking operation will ensure that any existing authentication session cannot be used to re-link and overwrite the entry without authenticating with one of the other linked accounts in the keychain.</p>
			<p>These restrictions are in place to limit the potential attack surface related to account theft scenarios.</p>
			<div>
				<h3 id="using-device-id">Using Device ID</h3>
			</div>
			<div>
				<p>This feature is relevant for Mobile personal devices and PC Desktop only. Device ID cannot be used with the Anti-Cheat Interfaces, which require an external account.</p>
			</div>
			<p>In cases where an application believes that users may not yet be invested enough to create a new account or link an existing account, an application may create a new persistent pseudo-account using the EOS Connect Device ID feature. This feature allows an application to create a persistent access credential for a local user without using any external login credentials. This allows the backend services to remember the current user on the local device across game sessions. The Device ID feature is used especially on mobile personal devices to allow automatically logging in a user without prompting for account credentials, as well as allowing to start playing the game without immediately requiring a user login to persist the game progression data.</p>
			<p>However, as the Device ID is not tied to a real user account and can only be used to uniquely identify the local device, it is highly recommended to ask the user to link an external authentication method to their Device ID account once a user has progressed through some early progression milestone to prevent losing the credential and thus their account.</p>
			<p>Without eventually linking the Device ID account with a real user identity, all progress and game data will be permanently lost should something happen to the device itself. The EOS SDK stores the Device ID credential locally in the keychain of the currently logged in user of the local device. If the local user profile is reset or otherwise lost, it is not possible to recover a lost Device ID after that.</p>
			<p>To create a new Device ID, an application must call the
				<code>EOS_Connect_CreateDeviceId</code>
				function with a valid
				<code>EOS_Connect_CreateDeviceIdOptions</code>
				structure containing the user's DeviceModel. This call will eventually trigger a callback to the function bound to the
				<code>EOS_Connect_OnCreateDeviceIdCallback</code>. If a new Device ID was successfully created and stored in the keychain for the logged in user of the local device, the
				<code>ResultCode</code>
				parameter in the callback parameters will be set to
				<code>EOS_EResult::EOS_Success</code>. If an existing Device ID was already present,
				<code>EOS_EResult::EOS_DuplicateNotAllowed</code>
				is returned. Otherwise, the
				<code>ResultCode</code>
				parameter identifies the reason for the operation failure.</p>
			<p>To login the local user with their unique Device ID, call the
				<code>EOS_Connect_Login</code>
				API with the
				<code>EOS_EExternalCredentialType::EOS_ECT_DEVICEID_ACCESS_TOKEN</code>
				external credential type. As the SDK manages the stored Device ID credential automatically, the
				<code>Token</code>
				parameter of the input
				<code>EOS_Connect_Credentials</code>
				struct must be null. However, as the Device ID is not tied to a real user identity, the
				<code>EOS_Connect_UserLoginInfo</code>
				input struct needs to be provided with a valid
				<code>DisplayName</code>
				for the user.</p>
			<p>To link the local Device ID with a real external user account, first have the game login the local user normally using the Device ID credential type. Then, ask the user to login with a real identity and after
				<code>EOS_Connect_Login</code>
				returns back with an
				<code>EOS_ContinuanceToken</code>, link the external account using the
				<code>EOS_Connect_Link</code>
				API to associate the local device with the user's real account. This will allow logging in the user automatically each time the game is started, as the Device ID can still be used as intended to automatically login the user without prompting for external user account credentials.</p>
			<div>
				<h4 id="deletion-of-device-id-credentials">Deletion of Device ID credentials</h4>
			</div>
			<p>You may also delete the Device ID for the current user profile of the local device by calling the
				<code>EOS_Connect_DeleteDeviceId</code>
				API. The deletion operation is a permanent and nonrecoverable operation. However, it is always possible to create a new Device ID and link it with an existing external user account to restore the automated login functionality.</p>
			<p>On Android and iOS devices, uninstalling the application will automatically delete any local Device ID credentials created by the application.</p>
			<p>On Desktop platforms (Linux, macOS, Windows), Device ID credentials are not automatically deleted. Applications may re-use existing Device ID credentials for the local OS user when the application is re-installed, or call the
				<strong>EOS_Connect_DeleteDeviceId</strong>
				API on the first run to ensure a fresh start for the user.</p>
			<div>
				<h4 id="linking-device-id-based-game-progression-with-an-existing-linked-accounts-keychain">Linking Device ID based game progression with an existing linked accounts keychain</h4>
			</div>
			<p>There is an edge-case scenario in which the common path to link a Device ID pseudo-account with a real external user account is not possible. In this scenario, the real user account that is logged in, already belongs to an existing keychain under the same EOS Organization. In such case, when the game first automatically logs in the user using the local Device ID login type and then the user logs in with real external user account credentials, the
				<code>EOS_Connect_Login</code>
				API will return an existing
				<code>EOS_ProductUserId</code>
				instead of an
				<code>EOS_ContinuanceToken</code>. To handle this specific scenario, the
				<code>EOS_Connect_TransferDeviceIdAccount</code>
				API is used.</p>
			<p>The Device ID pseudo-account cannot be linked into the existing keychain, as the
				<code>EOS_Connect_Link</code>
				API requires the use of an
				<code>EOS_ContinuanceToken</code>. Additionally, as the player is now faced with two separate
				<code>EOS_ProductUserIds</code>, the player needs to be given a choice by the game on whether to discard one of the
				<code>EOS_ProductUserIds</code>
				(i.e. game profiles) as obsolete and continue to play with the other one. If the player chooses to discard one of the profiles, the game can link the local Device ID account into the existing keychain of linked accounts that is persistent on the backend.</p>
			<p>To handle the scenario of two
				<code>EOS_ProductUserIds</code>, the game needs to recognize when it has logged in the local user using the Device ID login type and then the user, in the same game session, logs in using an external account and receives another
				<code>EOS_ProductUserId</code>
				session for it. When this happens, the game should attempt to automatically check whether one of the
				<code>EOS_ProductUserIds</code>
				does not have any meaningful game progression on the backend side. In this case, it should automatically discard it and link the local Device ID pseudo-account with the existing keychain of the real external user account.</p>
			<p>In case the game is unable to determine this trivial case that can be automated on behalf of the user, it should prompt the user to make a choice on how to proceed. In this dialog, the player should be able to review the game progression as a comparison format for each
				<code>EOS_ProductUserId</code>
				and select which one to keep. It should be made very clear to the user that the discarded game progression will be lost forever and cannot be recovered afterwards. The game may also offer the user the option to not discard either profile, and to choose which one to continue playing with for the current game session.</p>
			<p>If the user chooses to discard one of their game profiles and switch to another permanently, the game should call the
				<code>EOS_Connect_TransferDeviceIdAccount</code>
				API to transfer the local Device ID pseudo-account into the keychain that is linked with the real external user accounts. In the API, input struct
				<code>EOS_Connect_TransferDeviceIdAccountOptions</code>
				and set the
				<code>ProductUserIdToPreserve</code>
				parameter to point to the correct
				<code>EOS_ProductUserId</code>
				value to preserve in the Device ID transfer operation.</p>
			<div>
				<h3 id="retrieving-product-user-id-mappings">Retrieving Product User ID mappings</h3>
			</div>
			<p>Other interfaces will expect the
				<code>EOS_ProductUserId</code>
				for remote or otherwise external users; say a list of friends or players on the same server.  It is possible to convert external user account identifiers to the
				<code>EOS_ProductUserId</code>
				via the mapping API.</p>
			<p>
				<code>EOS_Connect_QueryExternalAccountMappings</code>
				is an asynchronous call that will convert external account IDs to the SDK representation.  Simply set the
				<code>EOS_EExternalAccountType</code>
				and provide a contiguous list of external account IDs in string form.</p>
			<p>Pass the
				<code>EOS_HConnect</code>
				handle, your
				<code>EOS_Connect_QueryExternalAccountMappingsOptions</code>
				structure, and your callback information to the function. Provided that the
				<code>EOS_HPlatform</code>
				handle is ticking, the callback you provided will execute when the operation finishes.</p>
			<p>Once the callback has successfully returned, it is possible to retrieve the mappings via
				<code>EOS_Connect_GetExternalAccountMapping</code>.  This function takes the
				<code>EOS_EExternalAccountType</code>
				as before and returns a single
				<code>EOS_ProductUserId</code>
				for each call that provides an external account ID in string form.</p>
			<div>
				<p>A common use case is to query other users who are connected through the same account system as the player (e.g. a player on Steam that queries another player on Steam for matchmaking). Queries using external account IDs of another account system are never available. For example, someone playing on Xbox can't access another player's Steam ID.</p>
			</div>
			<div>
				<h3 id="retrieving-external-account-mappings">Retrieving external account mappings</h3>
			</div>
			<p>Just as one may retrieve the product user ID for an external account, you can also retrieve the external accounts for a product user ID.</p>
			<p>
				<code>EOS_Connect_QueryProductUserIdMappings</code>
				is an asynchronous call that will convert
				<code>EOS_ProductUserIds</code>
				to their external counterpart on a given platform, along with additional account data including the display name and the last login time.  Simply provide a contiguous list of product user IDs.</p>
			<p>Pass the
				<code>EOS_HConnect</code>
				handle, your
				<code>EOS_Connect_QueryProductUserIdMappingsOptions</code>
				structure, and your callback information to the function. Provided that the
				<code>EOS_HPlatform</code>
				handle is ticking, the callback you provided will execute when the operation finishes.</p>
			<p>Once the callback has successfully returned, it is possible to retrieve the mappings via</p>
			<p>
				<code>EOS_Connect_GetProductUserIdMapping</code>.  This function takes the
				<code>EOS_EExternalAccountType</code>, an input buffer, and buffer length to fill with the external account ID.  If the buffer is too small, the proper size of the buffer will be returned.</p>
			<p>Use
				<code>EOS_Connect_GetProductUserExternalAccountCount</code>
				to retrieve the number of linked external accounts for a product user.</p>
			<p>Use
				<code>EOS_Connect_CopyProductUserExternalAccountByIndex</code>
				to fetch information about an external account linked to a product user using the index.</p>
			<p>Use
				<code>EOS_Connect_CopyProductUserExternalAccountByAccountType</code>
				to fetch information about an external account of a specific type linked to a product user.</p>
			<p>Use
				<code>EOS_Connect_CopyProductUserExternalAccountByAccountId</code>
				to fetch information about an external account linked to a product user using the account ID.</p>
			<p>Use
				<code>EOS_Connect_CopyProductUserInfo</code>
				to fetch information about a product user, using the external account that they most recently logged in with as the reference.</p>
			<p>If the product user ID does not map to the given external platform, then the data will not be present in the results returned for the above.  This means that the user has never connected that external account type to their product user ID.</p>
			<div>
				<h3 id="user-verification-using-an-id-token">User verification using an ID Token</h3>
			</div>
			<p>ID Tokens are part of the
				<a href="/docs/en-UShttps://openid.net/specs/openid-connect-core-1_0.html#IDToken">OpenID Connect</a>
				protocol and can be used to verify a user's identity on server-side. An ID Token is a JSON Web Token (JWT) that contains information about the authenticated user, such as the product user ID. This allows backend services and game servers to securely verify user identifiers it receives from clients.</p>
			<div>
				<p>ID Tokens can not be used to execute actions on behalf of a user. They are only intended for the use of user identity verification.</p>
			</div>
			<div>
				<h4 id="retrieving-an-id-token-for-user">Retrieving an ID Token for user</h4>
			</div>
			<p>Game clients can obtain ID Tokens for local users by calling the
				<code>EOS_Connect_CopyIdToken</code>
				SDK API after the user has been authenticated with EOS Connect, passing in a
				<code>EOS_Connect_CopyIdTokenOptions</code>
				structure containing the
				<code>EOS_ProductUserId</code>
				of the user.</p>
			<p>The outputted
				<code>EOS_Connect_IdToken</code>
				structure contains the
				<code>EOS_ProductUserId</code>
				of the user, and a JWT representing the ID Token data. Note, you must call
				<code>EOS_Connect_IdToken_Release</code>
				to release the ID Token structure when you are done with it.</p>
			<p>Once retrieved, the game client can then provide the ID Token to another party. A new ID Token is provided after each successful
				<code>EOS_Connect_Login</code>
				call.</p>
			<p>The ID Token is valid for the lifetime of the local user's EOS Connect authentication session. When the game client refreshes the authentication session, it should expect any earlier used ID Token to expire soon after, and a new ID Token to be used if needed.</p>
			<div>
				<h4 id="validating-id-tokens-on-game-server-using-sdk">Validating ID Tokens on game server using SDK</h4>
			</div>
			<p>The JSON Web Key Set (JWKS) endpoint for EOS Connect ID Tokens is:
				<a href="/docs/en-UShttps://api.epicgames.dev/auth/v1/oauth/jwks">https://api.epicgames.dev/auth/v1/oauth/jwks</a>.</p>
			<p>Game servers can validate ID Tokens by calling the
				<code>EOS_Connect_VerifyIdToken</code>
				SDK API, and passing in a
				<code>EOS_Connect_VerifyIdTokenOptions</code>
				containing the
				<code>EOS_Connect_IdToken</code>. Note, game servers should use
				<code>EOS_ProductUserId_FromString</code>
				to populate the
				<code>EOS_ProductUserId</code>
				part of the
				<code>EOS_Connect_IdToken</code>
				structure before calling verify, because the server's user handles will be different to the user handles on the client.</p>
			<div>
				<h4 id="validating-id-tokens-on-backend-without-sdk">Validating ID Tokens on backend without SDK</h4>
			</div>
			<p>Backend services can verify the validity of ID Tokens and extract the token claims using any of the publicly available standard JWT libraries. See
				<a href="/docs/en-UShttps://jwt.io/">https://jwt.io/</a>
				for a list of libraries for this purpose. The used library should allow automatic caching of the retrieved JWKS information for the best performance and to reduce networking overhead.</p>
			<p>The EOS SDK and other support libraries take care of the needed steps for securely validating the ID Token before its containing claims can be securely trusted. The steps performed are as following:</p>
			<ol>
				<li>Verify that the token signature algorithm ("alg") is present and is not set to "none".</li>
				<li>Verify the JWT signature against the expected public certificate using the JWKS endpoint hosted by Epic Online Services.</li>
				<li>Verify that the token issuer ("iss") is present and starts with the base URL of
					<a href="/docs/en-UShttps://api.epicgames.dev">https://api.epicgames.dev</a>.</li>
				<li>Verify that the token issue time ("iat") is in the past.</li>
				<li>Verify that the token expiration time ("exp") is in the future.</li>
				<li>Verify that the Client ID ("aud") matches the Client ID that you are using to initialize the EOS SDK with game clients or otherwise to authenticate users with EOS Connect.</li>
			</ol>
			<p>After successfully verifying the ID Token you can trust the Product User ID ("sub") value.</p>
			<div>
				<h4 id="id-token-structure">ID Token structure</h4>
			</div>
			<p>The ID Token contains the following JSON structures:</p>
			<p>
				<strong>Header</strong>
			</p>
			<table>
				<thead>
					<tr>
						<th>Key</th>
						<th>Type</th>
						<th>Description</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>alg</td>
						<td>string</td>
						<td>Signature algorithm.</td>
					</tr>
					<tr>
						<td>kid</td>
						<td>string</td>
						<td>Identifier for the key that was used to sign the token.</td>
					</tr>
				</tbody>
			</table>
			<p>
				<strong>Payload</strong>
			</p>
			<table>
				<thead>
					<tr>
						<th>Key</th>
						<th>Type</th>
						<th>Description</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>aud</td>
						<td>string</td>
						<td>Client ID used to authenticate the user with EOS Connect.</td>
					</tr>
					<tr>
						<td>exp</td>
						<td>integer</td>
						<td>Expiration time of the token, seconds since the epoch.</td>
					</tr>
					<tr>
						<td>iat</td>
						<td>integer</td>
						<td>Issue time of the token, seconds since the epoc.</td>
					</tr>
					<tr>
						<td>iss</td>
						<td>string</td>
						<td>Token issuer. Always starts with
							<code>https://api.epicgames.dev</code>.</td>
					</tr>
					<tr>
						<td>pfdid</td>
						<td>string</td>
						<td>EOS Deployment ID.</td>
					</tr>
					<tr>
						<td>pfpid</td>
						<td>string</td>
						<td>EOS Product ID.</td>
					</tr>
					<tr>
						<td>pfsid</td>
						<td>string</td>
						<td>EOS Sandbox ID.</td>
					</tr>
					<tr>
						<td>sub</td>
						<td>string</td>
						<td>Product User ID of the authenticated user.</td>
					</tr>
					<tr>
						<td>act</td>
						<td>json object</td>
						<td>Identifies the external account that was used to authenticate the connected user.</td>
					</tr>
				</tbody>
			</table>
			<div>
				<h5 id="external-account-information-act">External account information (<code>act</code>)</h5>
			</div>
			<table>
				<thead>
					<tr>
						<th>Key</th>
						<th>Type</th>
						<th>Description</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>eat</td>
						<td>string</td>
						<td>Identifies the external account type. Possible values include:
							<code>apple</code>,
							<code>discord</code>,
							<code>epicgames</code>,
							<code>gog</code>,
							<code>google</code>,
							<code>itchio</code>,
							<code>nintendo_id</code>,
							<code>nintendo_nsa_id</code>,
							<code>oculus</code>,
							<code>openid</code>,
							<code>psn</code>,
							<code>steam</code>,
							<code>xbl</code>
						</td>
					</tr>
					<tr>
						<td>eaid</td>
						<td>string</td>
						<td>External account ID.</td>
					</tr>
					<tr>
						<td>pltfm</td>
						<td>string</td>
						<td>Platform that the user is connected from. Possible values include:
							<code>other</code>,
							<code>playstation</code>,
							<code>steam</code>,
							<code>switch</code>,
							<code>xbox</code>
						</td>
					</tr>
					<tr>
						<td>dty</td>
						<td>string</td>
						<td>Device Type. Identifies the device that the user is connected from. Can be used to securely verify that the user is connected through a real Console device. Possible values include:
							<code>PSVITA</code>,
							<code>PS3</code>,
							<code>PS4</code>,
							<code>PS5</code>,
							<code>Switch</code>,
							<code>Xbox360</code>,
							<code>XboxOne</code>
						</td>
					</tr>
				</tbody>
			</table>
			<div id="tag_list">
				<a href="/docs/en-US/site-map?tag=Connect">Connect</a>
				<a href="/docs/en-US/site-map?tag=Identity%20Providers">
					Identity Providers</a>
				<a href="/docs/en-US/site-map?tag=Authentication">
					Authentication</a>
				<a href="/docs/en-US/site-map?tag=User%20Accounts">
					User Accounts</a>
			</div>
		</section>
		<aside>
			<div>Contents</div>
			<div>
				<ul>
					<li>
						<a href="#connect-interface">Connect Interface</a>
					</li>
					<li>
						<a href="#managing-users">Managing users</a>
					</li>
					<li>
						<a href="#authenticating-users">Authenticating Users</a>
					</li>
					<li>
						<a href="#user-authentication-refresh-notification">User authentication refresh notification</a>
					</li>
					<li>
						<a href="#user-authentication-status-change-notification">User authentication status change notification</a>
					</li>
					<li>
						<a href="#checking-current-user-authentication-status">Checking current user authentication status</a>
					</li>
					<li>
						<a href="#creating-a-new-user">Creating a new user</a>
					</li>
					<li>
						<a href="#linking-an-external-account">Linking an external account</a>
					</li>
					<li>
						<a href="#unlinking-an-external-account">Unlinking an external account</a>
					</li>
					<li>
						<a href="#external-account-unlinking-restrictions">External account unlinking restrictions</a>
					</li>
					<li>
						<a href="#using-device-id">Using Device ID</a>
					</li>
					<li>
						<a href="#deletion-of-device-id-credentials">Deletion of Device ID credentials</a>
					</li>
					<li>
						<a href="#linking-device-id-based-game-progression-with-an-existing-linked-accounts-keychain">Linking Device ID based game progression with an existing linked accounts keychain</a>
					</li>
					<li>
						<a href="#retrieving-product-user-id-mappings">Retrieving Product User ID mappings</a>
					</li>
					<li>
						<a href="#retrieving-external-account-mappings">Retrieving external account mappings</a>
					</li>
					<li>
						<a href="#user-verification-using-an-id-token">User verification using an ID Token</a>
					</li>
					<li>
						<a href="#retrieving-an-id-token-for-user">Retrieving an ID Token for user</a>
					</li>
					<li>
						<a href="#validating-id-tokens-on-game-server-using-sdk">Validating ID Tokens on game server using SDK</a>
					</li>
					<li>
						<a href="#validating-id-tokens-on-backend-without-sdk">Validating ID Tokens on backend without SDK</a>
					</li>
					<li>
						<a href="#id-token-structure">ID Token structure</a>
					</li>
					<li>
						<a href="#external-account-information-act">External account information (act)</a>
					</li>
				</ul>
			</div>
		</aside>
	</section>
	<section></section>
</section>